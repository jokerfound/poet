import{_ as L,l as M,u as R,r as h,h as b,m as j,o as l,c,b as t,g as F,p as v,t as n,k as w,F as B,f as D,n as x}from"./index-2ecfb517.js";import{u as z}from"./poemStore-990be7b1.js";const I={class:"poet-detail"},q={class:"container"},G={class:"navigation-bar"},H={class:"nav-links"},J={class:"poet-header"},K={class:"poet-avatar"},O={class:"avatar-icon"},Q={class:"poet-info"},U={class:"poet-name"},W={class:"poet-dynasty"},X={class:"poet-stats"},Y={class:"stat-item"},Z={class:"stat-number"},tt={class:"stat-item"},st={class:"stat-number"},et={key:0,class:"poet-bio"},ot={class:"bio-content"},nt={class:"representative-poems"},at={class:"poems-grid"},it=["onClick"],lt={class:"poem-header"},ct={class:"poem-title"},rt={class:"poem-dynasty"},dt={class:"poem-content"},vt={class:"poem-actions"},ut=["onClick"],_t={class:"btn-icon"},pt={key:1,class:"all-poems"},ht={class:"poems-list"},mt=["onClick"],ft={class:"poem-info"},kt={class:"poem-title"},bt={class:"poem-content-preview"},yt={class:"poem-meta"},gt={class:"poem-length"},Ct=["onClick"],Pt={__name:"PoetDetail",setup($t){const N=M(),m=R(),a=z(),S=h(N.params.id),i=h(""),u=h(""),r=h(""),_=h("üë§"),p=b(()=>i.value?a.poems.filter(e=>e.author===i.value):[]),T=b(()=>p.value.slice(0,6)),V=b(()=>{let e=0;return p.value.forEach(s=>{a.favoritePoems.includes(s.id)&&e++}),e}),y=e=>({ÊùéÁôΩ:"üç∑",ÊùúÁî´:"üìö",ÁôΩÂ±ÖÊòì:"‚úçÔ∏è",ÁéãÁª¥:"üé®",ËãèËΩº:"üåä",ÊùéÊ∏ÖÁÖß:"üå∏",ËæõÂºÉÁñæ:"‚öîÔ∏è",ÈôÜÊ∏∏:"üíî",Â≠üÊµ©ÁÑ∂:"üèûÔ∏è",ÁéãÊòåÈæÑ:"üéØ",ÊùúÁâß:"üçÇ",ÊùéÂïÜÈöê:"üîÆ"})[e]||"üë§",g=e=>({ÊùéÁôΩ:'Âîê‰ª£‰ºüÂ§ßÁöÑÊµ™Êº´‰∏ª‰πâËØó‰∫∫ÔºåË¢´Âêé‰∫∫Ë™â‰∏∫"ËØó‰ªô"„ÄÇÂÖ∂ËØóË±™ÊîæÈ£òÈÄ∏ÔºåÊÉ≥Ë±°‰∏∞ÂØåÔºåËØ≠Ë®ÄÊµÅËΩ¨Ëá™ÁÑ∂ÔºåÈü≥ÂæãÂíåË∞êÂ§öÂèò„ÄÇ',ÊùúÁî´:'Âîê‰ª£‰ºüÂ§ßÁöÑÁé∞ÂÆû‰∏ª‰πâËØó‰∫∫ÔºåË¢´Â∞ä‰∏∫"ËØóÂú£"„ÄÇÂÖ∂ËØóÊ≤âÈÉÅÈ°øÊå´ÔºåÂèçÊò†Á§æ‰ºöÁé∞ÂÆûÔºåÂÖ∑ÊúâÊ∑±ÂàªÁöÑÊÄùÊÉ≥ÊÄß„ÄÇ',ÁôΩÂ±ÖÊòì:"Âîê‰ª£ËëóÂêçËØó‰∫∫ÔºåÊñ∞‰πêÂ∫úËøêÂä®ÁöÑÂÄ°ÂØºËÄÖ„ÄÇÂÖ∂ËØóÈÄö‰øóÊòìÊáÇÔºåÂèçÊò†Ê∞ëÁîüÁñæËã¶ÔºåËØ≠Ë®ÄÂπ≥ÊòìËøë‰∫∫„ÄÇ",ÁéãÁª¥:'Âîê‰ª£ËëóÂêçËØó‰∫∫„ÄÅÁîªÂÆ∂ÔºåË¢´Ë™â‰∏∫"ËØó‰Ωõ"„ÄÇÂÖ∂ËØóÊ∏ÖÊñ∞Ê∑°ËøúÔºåËá™ÁÑ∂ËÑ±‰øóÔºåÂÖÖÊª°Á¶ÖÊÑè„ÄÇ',ËãèËΩº:"ÂåóÂÆãÊñáÂ≠¶ÂÆ∂„ÄÅ‰π¶ÁîªÂÆ∂ÔºåÂîêÂÆãÂÖ´Â§ßÂÆ∂‰πã‰∏Ä„ÄÇÂÖ∂ËØóË±™ÊîæÊ¥íËÑ±ÔºåÈ¢òÊùêÂπøÈòîÔºåÊ∏ÖÊñ∞Ë±™ÂÅ•„ÄÇ",ÊùéÊ∏ÖÁÖß:"ÂÆã‰ª£ËëóÂêçÂ•≥ËØç‰∫∫ÔºåÂ©âÁ∫¶Ê¥æ‰ª£Ë°®„ÄÇÂÖ∂ËØçËØ≠Ë®ÄÊ∏Ö‰∏ΩÔºåÊÑüÊÉÖÁúüÊåöÔºåÈ£éÊ†ºÁã¨Áâπ„ÄÇ",ËæõÂºÉÁñæ:"ÂçóÂÆãË±™ÊîæÊ¥æËØç‰∫∫ÔºåÁà±ÂõΩÂ∞ÜÈ¢Ü„ÄÇÂÖ∂ËØçÊÖ∑ÊÖ®ÊÇ≤Â£ÆÔºåÁ¨îÂäõÈõÑÂéöÔºåÂÖÖÊª°Áà±ÂõΩÁÉ≠ÊÉÖ„ÄÇ"})[e]||`ÊöÇÊó†${e}ÁöÑËØ¶ÁªÜÁÆÄ‰ªã‰ø°ÊÅØ„ÄÇ`,C=e=>e?e.split(`
`).slice(0,2).join(" "):"",d=e=>a.favoritePoems.includes(e),P=e=>{d(e)?a.removeFromFavorites(e):a.addToFavorites(e)},$=e=>{m.push(`/poems/${e}`)},A=()=>{window.history.length>1?m.go(-1):m.push("/poets")},f=e=>{m.push(e)},E=()=>{try{const e=a.poets.find(s=>s.id===S.value);if(e)i.value=e.name,u.value=e.dynasty,r.value=g(e.name),_.value=y(e.name);else{const s=a.poems.find(o=>o.author&&o.id);s?(i.value=s.author,u.value=s.dynasty,r.value=g(s.author),_.value=y(s.author)):(i.value="Êú™Áü•ËØó‰∫∫",u.value="Êú™Áü•Êúù‰ª£",r.value="ÊöÇÊó†ËØó‰∫∫‰ø°ÊÅØ",_.value="üë§")}}catch(e){console.error("ÂàùÂßãÂåñËØó‰∫∫‰ø°ÊÅØÂ§±Ë¥•:",e),i.value="Êú™Áü•ËØó‰∫∫",u.value="Êú™Áü•Êúù‰ª£",r.value="ÊöÇÊó†ËØó‰∫∫‰ø°ÊÅØ",_.value="üë§"}};return j(()=>{a.loadFromLocalStorage(),setTimeout(()=>{E()},100)}),(e,s)=>(l(),c("div",I,[t("div",q,[t("div",G,[t("button",{class:"back-btn",onClick:A},[...s[4]||(s[4]=[t("span",{class:"btn-icon"},"‚Üê",-1),F(" ËøîÂõû ",-1)])]),t("div",H,[t("a",{href:"/",class:"nav-link",onClick:s[0]||(s[0]=v(o=>f("/"),["prevent"]))},"È¶ñÈ°µ"),t("a",{href:"/poems",class:"nav-link",onClick:s[1]||(s[1]=v(o=>f("/poems"),["prevent"]))},"ËØóËØç"),t("a",{href:"/poets",class:"nav-link",onClick:s[2]||(s[2]=v(o=>f("/poets"),["prevent"]))},"ËØó‰∫∫"),t("a",{href:"/favorites",class:"nav-link",onClick:s[3]||(s[3]=v(o=>f("/favorites"),["prevent"]))},"Êî∂Ëóè")])]),t("div",J,[t("div",K,[t("span",O,n(_.value),1)]),t("div",Q,[t("h1",U,n(i.value),1),t("p",W,n(u.value),1),t("div",X,[t("div",Y,[t("span",Z,n(p.value.length),1),s[5]||(s[5]=t("span",{class:"stat-label"},"‰ΩúÂìÅÊï∞Èáè",-1))]),t("div",tt,[t("span",st,n(V.value),1),s[6]||(s[6]=t("span",{class:"stat-label"},"Êî∂ËóèÊ¨°Êï∞",-1))])])])]),r.value?(l(),c("div",et,[s[7]||(s[7]=t("h2",null,"ËØó‰∫∫ÁÆÄ‰ªã",-1)),t("div",ot,n(r.value),1)])):w("",!0),t("div",nt,[s[8]||(s[8]=t("h2",null,"‰ª£Ë°®‰ΩúÂìÅ",-1)),t("div",at,[(l(!0),c(B,null,D(T.value,o=>(l(),c("div",{class:"poem-card",key:o.id,onClick:k=>$(o.id)},[t("div",lt,[t("h3",ct,n(o.title),1),t("p",rt,n(o.dynasty),1)]),t("div",dt,n(C(o.content)),1),t("div",vt,[t("button",{class:x(["action-btn small",{favorited:d(o.id)}]),onClick:v(k=>P(o.id),["stop"])},[t("span",_t,n(d(o.id)?"‚ù§Ô∏è":"ü§ç"),1),F(" "+n(d(o.id)?"Â∑≤Êî∂Ëóè":"Êî∂Ëóè"),1)],10,ut)])],8,it))),128))])]),p.value.length>6?(l(),c("div",pt,[s[9]||(s[9]=t("h2",null,"ÂÖ®ÈÉ®‰ΩúÂìÅ",-1)),t("div",ht,[(l(!0),c(B,null,D(p.value,o=>(l(),c("div",{class:"poem-item",key:o.id,onClick:k=>$(o.id)},[t("div",ft,[t("h4",kt,n(o.title),1),t("p",bt,n(C(o.content)),1)]),t("div",yt,[t("span",gt,n(o.content.split(`
`).length)+"Âè•",1),t("button",{class:x(["favorite-btn",{favorited:d(o.id)}]),onClick:v(k=>P(o.id),["stop"])},n(d(o.id)?"‚ù§Ô∏è":"ü§ç"),11,Ct)])],8,mt))),128))])])):w("",!0)])]))}},Bt=L(Pt,[["__scopeId","data-v-ec2eecb2"]]);export{Bt as default};
