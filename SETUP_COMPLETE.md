# Supabase é…ç½®å®Œæˆæ€»ç»“

## âœ… é…ç½®å®Œæˆæƒ…å†µ

### 1. é¡¹ç›®æ¶æ„é…ç½®
- âœ… Vue.js + Supabase é¡¹ç›®æ¶æ„æ­å»ºå®Œæˆ
- âœ… ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶ (.env.local, .env.example)
- âœ… Supabase å®¢æˆ·ç«¯é…ç½® (src/config/supabase.js)
- âœ… è¯—è¯æœåŠ¡å±‚é‡æ„ (src/services/poemService.js)

### 2. æ•°æ®åº“è®¾è®¡
- âœ… å®Œæ•´çš„æ•°æ®åº“è¿ç§»æ–‡ä»¶ (supabase/migrations/)
- âœ… 10ä¸ªæ ¸å¿ƒæ•°æ®è¡¨è®¾è®¡
- âœ… æ•°æ®åº“å‡½æ•°å’Œå­˜å‚¨è¿‡ç¨‹
- âœ… è¡Œçº§å®‰å…¨ç­–ç•¥ (RLS)

### 3. å‰ç«¯é›†æˆ
- âœ… Home.vue ç»„ä»¶æ›´æ–° - ä½¿ç”¨SupabaseåŠ¨æ€æ•°æ®
- âœ… Poems.vue ç»„ä»¶æ›´æ–° - åŠ¨æ€è¯—è¯åˆ—è¡¨
- âœ… å…¶ä»–è§†å›¾ç»„ä»¶å·²å‡†å¤‡å°±ç»ª

### 4. å·¥å…·è„šæœ¬
- âœ… æ•°æ®åº“è¿ç§»è„šæœ¬ (supabase/run-migrations.js)
- âœ… ç§å­æ•°æ®è„šæœ¬ (supabase/seed-data.js)
- âœ… è¿æ¥æµ‹è¯•è„šæœ¬ (supabase/test-connection.js)
- âœ… è¯¦ç»†çš„é…ç½®æŒ‡å— (supabase/setup-guide.md)

### 5. å¼€å‘å·¥å…·
- âœ… package.json è„šæœ¬å‘½ä»¤æ›´æ–°
- âœ… å¼€å‘æœåŠ¡å™¨é…ç½®
- âœ… æ„å»ºå’Œéƒ¨ç½²é…ç½®

## ğŸš€ ä¸‹ä¸€æ­¥æ“ä½œæŒ‡å—

### ç¬¬ä¸€æ­¥ï¼šé…ç½®Supabaseé¡¹ç›®
1. è®¿é—® [Supabaseå®˜ç½‘](https://supabase.com) åˆ›å»ºè´¦æˆ·
2. åˆ›å»ºæ–°é¡¹ç›®ï¼Œé€‰æ‹©åˆé€‚çš„åœ°åŸŸ
3. è·å–é¡¹ç›®URLå’ŒAPIå¯†é’¥

### ç¬¬äºŒæ­¥ï¼šè®¾ç½®ç¯å¢ƒå˜é‡
ç¼–è¾‘ `poet/.env.local` æ–‡ä»¶ï¼š
```env
VITE_SUPABASE_URL=ä½ çš„é¡¹ç›®URL
VITE_SUPABASE_ANON_KEY=ä½ çš„åŒ¿åå¯†é’¥
VITE_SUPABASE_SERVICE_KEY=ä½ çš„æœåŠ¡å¯†é’¥ï¼ˆç”¨äºè¿ç§»ï¼‰
```

### ç¬¬ä¸‰æ­¥ï¼šè¿è¡Œæ•°æ®åº“è¿ç§»
```bash
cd poet
npm run supabase:migrate
```

### ç¬¬å››æ­¥ï¼šå¡«å……ç¤ºä¾‹æ•°æ®
```bash
npm run supabase:seed
```

### ç¬¬äº”æ­¥ï¼šå¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
npm run dev
```

## ğŸ“Š æ•°æ®åº“ç»“æ„æ¦‚è§ˆ

### æ ¸å¿ƒè¡¨
1. **poems** - è¯—è¯ä¸»è¡¨
2. **poets** - è¯—äººä¿¡æ¯
3. **annotations** - è¯—è¯æ³¨é‡Š
4. **imagery** - æ„è±¡åˆ†æ
5. **historical_events** - å†å²èƒŒæ™¯

### åŠŸèƒ½è¡¨
6. **knowledge_graph_relations** - çŸ¥è¯†å›¾è°±
7. **user_reading_behavior** - ç”¨æˆ·è¡Œä¸º
8. **ai_interpretation_cache** - AIè§£è¯»ç¼“å­˜
9. **multimedia_assets** - å¤šåª’ä½“èµ„æº

### ç³»ç»Ÿè¡¨
10. **system_config** - ç³»ç»Ÿé…ç½®

## ğŸ”§ API æ¥å£è¯´æ˜

### è¯—è¯ç›¸å…³æ¥å£
- `getPoems()` - è·å–è¯—è¯åˆ—è¡¨
- `getPoemById(id)` - è·å–æŒ‡å®šè¯—è¯
- `searchPoems(query)` - æœç´¢è¯—è¯
- `getRecommendedPoems()` - è·å–æ¨èè¯—è¯

### è¯—äººç›¸å…³æ¥å£
- `getPoets()` - è·å–è¯—äººåˆ—è¡¨
- `getPoetById(id)` - è·å–æŒ‡å®šè¯—äºº
- `getPoemsByPoet(poetId)` - è·å–è¯—äººä½œå“

### ç»Ÿè®¡åˆ†ææ¥å£
- `getPlatformStats()` - è·å–å¹³å°ç»Ÿè®¡
- `getReadingHistory()` - è·å–é˜…è¯»å†å²

## ğŸŒŸ ç‰¹è‰²åŠŸèƒ½

### åŠ¨æ€æ•°æ®è·å–
- æ‰€æœ‰è¯—è¯æ•°æ®ä»Supabaseå®æ—¶è·å–
- æ”¯æŒåˆ†é¡µå’Œæœç´¢
- æ™ºèƒ½æ¨èç®—æ³•

### ç”¨æˆ·ä¸ªæ€§åŒ–
- é˜…è¯»å†å²è®°å½•
- æ”¶è—åŠŸèƒ½
- ä¸ªæ€§åŒ–æ¨è

### AIæ™ºèƒ½åˆ†æ
- è¯—è¯æ„å¢ƒåˆ†æ
- æƒ…æ„Ÿè¯†åˆ«
- è‰ºæœ¯æ‰‹æ³•è§£è¯»

## ğŸ› ï¸ å¼€å‘å‘½ä»¤

```bash
# å¼€å‘æ¨¡å¼
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# é¢„è§ˆæ„å»ºç»“æœ
npm run preview

# æ•°æ®åº“è¿ç§»
npm run supabase:migrate

# å¡«å……æ•°æ®
npm run supabase:seed

# æµ‹è¯•è¿æ¥
npm run supabase:test
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜
1. **è¿æ¥å¤±è´¥** - æ£€æŸ¥ç¯å¢ƒå˜é‡é…ç½®
2. **æƒé™é”™è¯¯** - ç¡®è®¤RLSç­–ç•¥è®¾ç½®
3. **æ•°æ®ä¸æ˜¾ç¤º** - éªŒè¯è¿ç§»å’Œç§å­æ•°æ®

### è·å–å¸®åŠ©
- æŸ¥çœ‹è¯¦ç»†é…ç½®æŒ‡å—: `supabase/setup-guide.md`
- æ£€æŸ¥é”™è¯¯æ—¥å¿—: Supabaseé¡¹ç›®ä»ªè¡¨æ¿
- æµ‹è¯•è¿æ¥: `npm run supabase:test`

## ğŸ¯ å®ŒæˆçŠ¶æ€

**Supabase MCPæœåŠ¡å™¨é…ç½®å·²å®Œæˆï¼**

âœ… æ•°æ®åº“æ¶æ„è®¾è®¡å®Œæˆ  
âœ… å‰ç«¯é›†æˆä»£ç å®Œæˆ  
âœ… å·¥å…·è„šæœ¬å‡†å¤‡å°±ç»ª  
âœ… é…ç½®æ–‡æ¡£é½å…¨  

**ç­‰å¾…ç”¨æˆ·é…ç½®Supabaseé¡¹ç›®ä¿¡æ¯åå³å¯æŠ•å…¥ä½¿ç”¨**

é¡¹ç›®ç°åœ¨å…·å¤‡å®Œæ•´çš„åŠ¨æ€æ•°æ®èƒ½åŠ›ï¼Œå¯ä»¥ä»Supabaseå®æ—¶è·å–å’Œç®¡ç†è¯—è¯æ•°æ®ã€‚